# H5开发总结
## 1.盒模型
1. `box-sizing`
    * box-sizing: content-box | padding-box | border-box;
    * 默认值：content-box
2. 为了简单地规避元素盒模型大小可变性造成的网页排版问题，一般我们会在样式重置的规则中，将盒模型设置成 border-box
    ```css
    *, *:before, *:after {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
    ```
## 2.响应式页面
1. 添加 `viewport meta` 标签
    ```html
    <meta name="viewport" content="width=device-width, initial-scale=1">
    ```
2. 使用 `Media Queries`

|name|des|
|:----|:----|
|min-width|	当视窗宽度大于或等于指定值时，@media 规则下的样式将被应用|
|max-width|	当视窗宽度小于或等于指定值时，@media 规则下的样式将被应用|
|min-height|	当视窗高度大于或等于指定值时，@media 规则下的样式将被应用|
|max-height|	当视窗高度小于或等于指定值时，@media 规则下的样式将被应用|
|orientation=portrait|	当视窗高度大于或等于宽度时，@media 规则下的样式将被应用|
|orientation=landscape|	当视窗宽度大于高度时，@media 规则下的样式将被应用|
3. `Media Queries`2种用法
    1. 使用 link 标签，根据指定特性引入特定的外部样式文件
        ```html
        <link rel="stylesheet" media="(max-width: 640px)" href="max-640px.css">
        ```
    2. 直接在 style 标签或 样式文件内使用 @media 规则
        ```css
        @media (max-width: 640px) {
            /*当视窗宽度小于或等于 640px 时，这里的样式将生效*/
        }
        ```
4. 样式断点(依据目标设备的分辨率，制定一套合适的样式断点，并为不同的断点定制必要的 CSS 样式) 

|name|des|
|:----|:----|
|mobile|移动设备断点，视窗宽度 ≤ 768 px|
|tablet|平板电脑设备断点，视窗宽度 ≥ 769 px|
|desktop|桌面电脑断点，视窗宽度 ≥ 1024 px|
|widescreen|宽屏电脑断点，视窗宽度 ≥ 1216 px|
|fullhd|高清宽屏电脑断点，视窗宽度 ≥ 1408 px|

```css
@media (min-width: 769px) {
  /* tablet 及以上的设备，页面背景色设置为红色 */
  body {
    background-color: red;
  }
}
```
## 3.使用Viewport单位及rem
1. 利用 Sass 函数将设计稿元素尺寸的像素单位转换为 vw 单位
```scss
/* iPhone 6尺寸作为设计稿基准 */
/* iPhone6尺寸作为设计稿基准$vw_base  */
$vw_base: 375;
@function vw($px) {
    @return ($px / $vm_base) * 100vw;
}
```
```scss
.mod_nav {
    background-color: #fff;
    &_list {
        display: flex;
        padding: vw(15) vw(10) vw(10); // 内间距
        &_item {
            flex: 1;
            text-align: center;
            font-size: vw(10); // 字体大小
            &_logo {
                display: block;
                margin: 0 auto;
                width: vw(40); // 宽度
                height: vw(40); // 高度
                img {
                    display: block;
                    margin: 0 auto;
                    max-width: 100%;
                }
            }
            &_name {
                margin-top: vw(2);
            }
        }
    }
}
```
2. 1 物理像素线（也就是普通屏幕下 1px ，高清屏幕下 0.5px 的情况）采用 transform 属性 scale 实现
```scss
.mod_grid {
    position: relative;
    &::after {
        // 实现1物理像素的下边框线
        content: '';
        position: absolute;
        z-index: 1;
        pointer-events: none;
        background-color: #ddd;
        height: 1px;
        left: 0;
        right: 0;
        top: 0;
        @media only screen and (-webkit-min-device-pixel-ratio: 2) {
            -webkit-transform: scaleY(0.5);
            -webkit-transform-origin: 50% 0%;
        }
    }
}
```
3. 对于需要保持高宽比的图，应改用 padding-top 实现
```scss
.mod_banner {
    position: relative;
    // 使用padding-top 实现宽高比为 100:750 的图片区域
    padding-top: percentage(100/750);
    height: 0;
    overflow: hidden;
    img {
        width: 100%;
        height: auto;
        position: absolute;
        left: 0;
        top: 0; 
    }
}
```
## 4.vw 搭配 rem，寻找最优解
1. 给根元素的字体大小设置随着视窗变化而变化的 vw 单位，这样就可以实现动态改变其大小
2. 其他元素的文本字号大小、布局高宽、间距、留白都使用 rem 单位
3. 限制根元素字体大小的最大最小值，配合 body 加上最大宽度和最小宽度，实现布局宽度的最大最小限制
```scss
// rem 单位换算：定为 75px 只是方便运算，750px-75px、640-64px、1080px-108px，如此类推
$vw_fontsize: 75; // iPhone 6尺寸的根元素大小基准值
@function rem($px) {
     @return ($px / $vw_fontsize ) * 1rem;
}
// 根元素大小使用 vw 单位
$vw_design: 750;
html {
    font-size: ($vw_fontsize / ($vw_design / 2)) * 100vw; 
    // 同时，通过Media Queries 限制根元素最大最小值
    @media screen and (max-width: 320px) {
        font-size: 64px;
    }
    @media screen and (min-width: 540px) {
        font-size: 108px;
    }
}
// body 也增加最大最小宽度限制，避免默认100%宽度的 block 元素跟随 body 而过大过小
body {
    max-width: 540px;
    min-width: 320px;
}
```
## 5.使用transitionend，监听transiont结束回调
```js
document.getElementById("myDIV").addEventListener("transitionend", myFunction);
``` 
## 6.CSS动画
1. `css3 Transition`
    1. 支持有限的 CSS 属性
    2. 隐式过渡`（implicit transitions）`
    3. 一次性、不可暂停或反转
    4. 常常利用 `transition` 来做那些轻量的、修饰性的动效，用于增强用户在网页上操作时得到的反馈
    ```css
    .transition-target {
        transition: <property> <duration> <timing-function> <delay>;
    }
    ``` 
2. `css3 Animation`
    * 指定元素用什么动画？（animation-name）
    * 动画的持续时间是多少？（animation-duration）
    * 浏览器用什么样的时间轴函数来执行该动画？（animation-timing-function）
    * 是否需要延时执行该动画？(animation-delay)
    * 动画循环执行的次数是多少？（animation-iteration-count）
    * 动画执行的方向是什么？（animation-direction）
    * 动画填充模式是什么？（animation-fill-mode）
    * 动画执行状态是运行还是暂停？（animation-play-state）